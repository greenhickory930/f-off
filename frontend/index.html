<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>F-Off â€“ Data Deletion Email Helper</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      color: #0f172a;
      background: #f3f4f6;
    }
    body {
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
    }
    .container {
      max-width: 880px;
      width: 100%;
      margin: 24px;
      padding: 24px 24px 32px;
      border-radius: 18px;
      background: #ffffff;
      box-shadow: 0 18px 40px rgba(15, 23, 42, 0.12);
    }
    h1 {
      margin: 0;
      font-size: 1.7rem;
      letter-spacing: -0.02em;
    }
    .subtitle {
      margin-top: 4px;
      margin-bottom: 8px;
      font-size: 0.95rem;
      color: #6b7280;
    }
    .badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 3px 10px;
      border-radius: 999px;
      background: #eef2ff;
      color: #4338ca;
      font-size: 0.8rem;
      font-weight: 500;
      margin-top: 8px;
      margin-bottom: 4px;
    }
    .badge span {
      font-size: 1rem;
    }
    .section-title {
      margin-top: 24px;
      margin-bottom: 6px;
      font-size: 1.05rem;
      font-weight: 600;
    }
    .section-hint {
      margin-top: 0;
      margin-bottom: 8px;
      font-size: 0.85rem;
      color: #6b7280;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(230px, 1fr));
      gap: 14px;
      margin-top: 8px;
    }
    label {
      display: block;
      font-size: 0.85rem;
      font-weight: 600;
      margin-bottom: 4px;
      color: #374151;
    }
    input, textarea {
      width: 100%;
      box-sizing: border-box;
      border-radius: 10px;
      border: 1px solid #d1d5db;
      padding: 8px 10px;
      font-size: 0.95rem;
      font-family: inherit;
      outline: none;
      background: #f9fafb;
      transition: border-color 0.15s ease, box-shadow 0.15s ease, background 0.15s ease;
    }
    input:focus,
    textarea:focus {
      border-color: #6366f1;
      box-shadow: 0 0 0 1px rgba(99, 102, 241, 0.2);
      background: #ffffff;
    }
    textarea {
      min-height: 160px;
      resize: vertical;
    }
    .buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 14px;
    }
    button {
      border-radius: 999px;
      border: none;
      padding: 8px 18px;
      font-size: 0.93rem;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-weight: 500;
      transition: background 0.15s ease, box-shadow 0.15s ease, transform 0.05s ease;
    }
    button.primary {
      background: #4f46e5;
      color: white;
      box-shadow: 0 8px 18px rgba(79, 70, 229, 0.35);
    }
    button.primary:hover {
      background: #4338ca;
      transform: translateY(-1px);
      box-shadow: 0 10px 24px rgba(79, 70, 229, 0.45);
    }
    button.secondary {
      background: #e5e7eb;
      color: #111827;
    }
    button.secondary:hover {
      background: #d1d5db;
    }
    button.ghost {
      background: transparent;
      color: #4b5563;
      border: 1px dashed #d1d5db;
    }
    button:disabled {
      opacity: 0.6;
      cursor: default;
      box-shadow: none;
      transform: none;
    }
    .status {
      margin-top: 6px;
      min-height: 18px;
      font-size: 0.85rem;
    }
    .status.error {
      color: #b91c1c;
    }
    .status.success {
      color: #166534;
    }
    .small-note {
      font-size: 0.8rem;
      color: #6b7280;
      margin-top: 4px;
    }
    .subject-input {
      margin-top: 6px;
      margin-bottom: 6px;
    }
    .pill-row {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 4px;
    }
    .pill {
      border-radius: 999px;
      padding: 2px 8px;
      font-size: 0.75rem;
      background: #f3f4ff;
      color: #4f46e5;
    }
    @media (max-width: 640px) {
      .container {
        margin: 16px;
        padding: 18px 16px 24px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="badge"><span>ðŸ§¹</span> Data Deletion Email Helper</div>
    <h1>F-Off</h1>
    <p class="subtitle">
      Generate a clean personal-data deletion email. For now everything runs in your browser â€” no AI, no backend.
    </p>

    <!-- 1. BASIC INFO FORM -->
    <h2 class="section-title">1. Who are you emailing?</h2>
    <p class="section-hint">
      This is just for templating the message. You can use a generic support email if youâ€™re not sure.
    </p>
    <div class="grid">
      <div>
        <label for="companyName">Company name</label>
        <input id="companyName" type="text" placeholder="e.g. Instagram" />
      </div>
      <div>
        <label for="companyEmail">Company contact email</label>
        <input id="companyEmail" type="email" placeholder="e.g. privacy@instagram.com" />
      </div>
      <div>
        <label for="userName">Your full name</label>
        <input id="userName" type="text" placeholder="e.g. Helen Guo" />
      </div>
      <div>
        <label for="userAccountEmail">Email used for this account</label>
        <input id="userAccountEmail" type="email" placeholder="e.g. you@example.com" />
      </div>
      <div>
        <label for="jurisdiction">Jurisdiction</label>
        <input id="jurisdiction" type="text" placeholder="e.g. Canada, EU, California" value="Canada" />
        <div class="pill-row">
          <span class="pill">GDPR (EU)</span>
          <span class="pill">CPPA (Canada)</span>
          <span class="pill">CCPA (California)</span>
        </div>
      </div>
    </div>

    <div class="buttons">
      <button class="primary" onclick="generateDraft()">
        âœ¨ Generate basic draft (no AI)
      </button>
      <button class="ghost" onclick="clearForm()">
        ðŸ§½ Clear
      </button>
    </div>
    <div id="statusDraft" class="status"></div>

    <!-- 2. GENERATED EMAIL AREA -->
    <h2 class="section-title">2. Review & edit your email</h2>
    <p class="section-hint">
      This is a simple template generated in JavaScript. Edit anything you want before sending.
    </p>

    <label for="subject">Subject</label>
    <input id="subject" class="subject-input" type="text" placeholder="Subject will appear here" />

    <label for="body">Body</label>
    <textarea id="body" placeholder="Email body will appear here"></textarea>
    <p class="small-note">
      Later we can swap this to use an AI backend. For now itâ€™s just a smart template you control.
    </p>

    <div class="buttons">
      <button class="secondary" onclick="copyEmail()">
        ðŸ“‹ Copy email
      </button>
      <button class="ghost" onclick="fakeSend()">
        ðŸ“© (Future) Send via agent
      </button>
    </div>
    <div id="statusSend" class="status"></div>
  </div>

  <script>
    function getValues() {
      return {
        companyName: document.getElementById("companyName").value.trim(),
        companyEmail: document.getElementById("companyEmail").value.trim(),
        userName: document.getElementById("userName").value.trim(),
        userAccountEmail: document.getElementById("userAccountEmail").value.trim(),
        jurisdiction: document.getElementById("jurisdiction").value.trim() || "Canada",
      };
    }

    function clearForm() {
      document.getElementById("companyName").value = "";
      document.getElementById("companyEmail").value = "";
      document.getElementById("userName").value = "";
      document.getElementById("userAccountEmail").value = "";
      document.getElementById("jurisdiction").value = "Canada";
      document.getElementById("subject").value = "";
      document.getElementById("body").value = "";
      const s1 = document.getElementById("statusDraft");
      const s2 = document.getElementById("statusSend");
      s1.textContent = "";
      s2.textContent = "";
      s1.className = "status";
      s2.className = "status";
    }

    function generateDraft() {
      const status = document.getElementById("statusDraft");
      status.textContent = "";
      status.className = "status";

      const { companyName, companyEmail, userName, userAccountEmail, jurisdiction } = getValues();

      if (!companyName || !companyEmail || !userName || !userAccountEmail) {
        status.textContent = "Please fill in company name, company email, your name, and your account email.";
        status.className = "status error";
        return;
      }

      // Very simple template â€“ later we can swap this out for AI output.
      const subject = `Request for deletion of personal data â€“ ${userAccountEmail}`;

      const body = `Hi ${companyName} team,

I am writing to request the deletion of all personal data associated with my account.

Details:
- Name: ${userName}
- Email associated with the account: ${userAccountEmail}

I am currently located in ${jurisdiction}. Please process this request in accordance with the applicable data protection and privacy laws in your jurisdiction and mine. This includes the deletion of any personal data you hold in active systems, backups where feasible, and data shared with third parties where you are able to do so.

If you need any additional information from me to verify my identity or locate my account, please let me know. Once the deletion has been completed, I would appreciate written confirmation.

Thank you for your help.

Best regards,
${userName}
`;

      document.getElementById("subject").value = subject;
      document.getElementById("body").value = body;

      status.textContent = "Draft generated. You can edit it below.";
      status.className = "status success";
    }

    async function copyEmail() {
      const status = document.getElementById("statusSend");
      status.textContent = "";
      status.className = "status";

      const subject = document.getElementById("subject").value.trim();
      const body = document.getElementById("body").value.trim();

      if (!subject || !body) {
        status.textContent = "Nothing to copy yet â€“ generate or write a subject and body first.";
        status.className = "status error";
        return;
      }

      const combined = `Subject: ${subject}\n\n${body}`;

      try {
        await navigator.clipboard.writeText(combined);
        status.textContent = "Copied subject + body to clipboard. Paste into your email client.";
        status.className = "status success";
      } catch (e) {
        status.textContent = "Could not copy automatically. You can still select and copy manually.";
        status.className = "status error";
      }
    }

    function fakeSend() {
      const status = document.getElementById("statusSend");
      status.textContent =
        "In the future this will call your FastAPI/Railway backend to actually send the email. For now, copy and send manually.";
      status.className = "status";
    }
  </script>
</body>
</html>
